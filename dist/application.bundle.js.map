{"version":3,"file":"application.bundle.js","sources":["../src/components/application.js","../src/stores/counter.js","../src/stores/status.js","../src/demo.js"],"sourcesContent":["import \"./application.css\";\nimport { mapState, mapGetters } from \"ui.vue3.vuex\";\n\nexport const Application =\n{\n    methods: {\n        increaseCounter() {\n            this.$store.dispatch('counterStore/increaseCounter');\n        },\n        decreaseCounter() {\n            this.$store.dispatch('counterStore/decreaseCounter');\n        }\n    },\n    computed: {\n        ...mapState('counterStore', ['counter']),\n        ...mapState('statusStore', ['lastAction']),\n        ...mapGetters('counterStore', ['double'])\n    },\n    // language=Vue\n    template: `\n        <div class=\"demo-header\">{{$Bitrix.Loc.getMessage('DEMO_VUEX_TITLE')}}</div>\n        <div>\n            <div>{{ $Bitrix.Loc.getMessage('DEMO_VUEX_COUNTER', {'#COUNTER#': this.counter, '#DOUBLE#': this.double}) }}</div> \n            <div>{{ $Bitrix.Loc.getMessage('DEMO_VUEX_LAST_ACTION', {'#COUNTER#': this.lastAction}) }}</div> \n            <div>\n                <button @click=\"increaseCounter\">+</button>\n                <button @click=\"decreaseCounter\">-</button>\n            </div>\n        </div>\n    `\n};","export const counterStore = {\n    namespaced: true,\n    state() {\n        return {\n            counter: 0\n        }\n    },\n    getters: {\n        double(store) {\n            return store.counter * 2;\n        },\n    },\n    actions: {\n        increaseCounter(store) {\n            store.commit('increaseCounter', { count: 1 });\n            this.dispatch('statusStore/setAction', 'Plus');\n        },\n        decreaseCounter(store) {\n            store.commit('increaseCounter', { count: -1 });\n            this.dispatch('statusStore/setAction', 'Minus');\n        },\n        resetCounter(store) {\n            store.commit('resetCounter');\n            this.dispatch('statusStore/setAction', 'Reset');\n        }\n    },\n    mutations: {\n        increaseCounter: (state, payload = {}) => {\n            let { count = 1 } = payload;\n            state.counter += count;\n        },\n        resetCounter: (state, payload = {}) => {\n            state.counter = 0;\n        }\n    }\n};\n","export const statusStore = {\n    namespaced: true,\n    state() {\n        return {\n            lastAction: 'None'\n        }\n    },\n    actions: {\n        setAction(store, payload) {\n            const action = payload.toString();\n            store.commit('setAction', action);\n        },\n    },\n    mutations: {\n        setAction(state, action) {\n            state.lastAction = action;\n        }\n    }\n};","/**\n * Vuex demo\n *\n * @package vuex\n * @subpackage local\n * @copyright 2001-2022 Bitrix\n */\n\nimport { BitrixVue } from 'ui.vue3';\nimport { Application } from './components/application';\nimport { createStore } from 'ui.vue3.vuex';\nimport { counterStore } from './stores/counter';\nimport { statusStore } from './stores/status';\n\nexport class VuexDemo {\n    #store;\n    #rootNode\n    #application;\n\n    constructor(rootNode): void {\n        this.#store = createStore({\n            modules: {\n                counterStore,\n                statusStore,\n            }\n        });\n        this.#rootNode = document.querySelector(rootNode);\n    }\n\n    start(): void {\n        this.#application = BitrixVue.createApp({\n            name: 'Vuex Application',\n            components: {\n                Application\n            },\n            template: '<Application/>'\n        })\n        this.#application.use(this.#store);\n        this.#application.mount(this.#rootNode);\n    }\n\n    getStore(): Object {\n        return this.#store;\n    }\n}"],"names":["Application","methods","increaseCounter","$store","dispatch","decreaseCounter","computed","mapState","mapGetters","template","counterStore","namespaced","state","counter","getters","store","actions","commit","count","resetCounter","mutations","payload","statusStore","lastAction","setAction","action","toString","VuexDemo","rootNode","createStore","modules","document","querySelector","BitrixVue","createApp","name","components","use","mount"],"mappings":"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"}